---
layout:     post
title:      最简单函数
subtitle:   
date:       2018-06-30
author:     JPeng
header-img: img/Ashikhmin-Shirley01.png
catalog: true
tags:
    - 面试
---
```
class String{
	public:
	String(const char *str=NULL);
	String(const String &other);
	~String(void);
	String &operator=(const String &other);
	private:
	char *m_data;
}


String::String(const char *str)
{
	if(str==NULL)
	{
		m_data=new char[1];
		if(m_data==NULL)
		{
			std::cout<<"申请内存失败"<<std::endl;
		}
		exit(1);
	}else{
		int length=strlen(str);
		m_data=new char[length+1];
		if(m_data==NULL)
		{
			std::cout<<"申请内存失败"<<std::endl;
		}
		exit(1);
		strcpy(m_data,str);
	}
}

String& String::operator=(const String &other){
	if(this==&other)
	{
		return this;
	}
	
	delete [] m_data;
	int length=strlen(other.m_data);
	m_data=new char [length+1];
	if(m_data==NULL){
		std::cout<<""<<std::endl;
		exit(1);
	}
	strcpy(m_data,other.m_data);
	return *this;
}

String::~String(){
	delete [] m_data;
}

void main(){
	String a;
	String b("abc");
	system("pause");
}

```